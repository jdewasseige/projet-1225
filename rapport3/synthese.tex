\begin{tikzpicture}
[node distance = 7em]

\tikzstyle{block} = [rectangle, draw, fill=blue!20, 
    text width=10em, text centered, rounded corners, minimum height=3em]
\tikzstyle{block2} = [rectangle, draw, fill=red!60, 
    text width=6em, text centered, minimum height=2em]
\tikzstyle{line} = [draw, -latex']
\tikzstyle{cloud} = [draw, ellipse,fill=red!20, node distance=2cm,
    minimum height=1em]
    
\node [block2] (purge) {Purge};
\node [block, below = 4em of purge] (compresseur) {Compresseur/Synth√®se};
\node [cloud, right = 10em of purge] (input) {Input};
\node [block, right = 6em of compresseur] (cooler) {Refroidisseur};
\node [block, below = 4em of cooler] (separation) {Separation};
\node [cloud, left = 8em of separation] (output) {Output};

\path [line] (input) -- node[anchor = south] {\ce{N2} \ce{H2} \ce{CH4} \ce{Ar} \ce{He}}
	(purge);
\path [line] (purge) -- node[anchor = west] {\ce{N2} \ce{H2}}
	(compresseur);
\path [line,dashed] (compresseur) -- node[anchor = south] {\ce{NH3_{(g)}} \ce{NH3_{(l)}}} 
	(cooler);
\path [line,dashed] (cooler) -- node[anchor = west] {\ce{NH3_{(g)}} \ce{NH3_{(l)}}} 
	(separation);
\path [line,dashed] (separation) -- node[anchor = east] {\ce{NH3_{(l)}}}
	(compresseur);
\path [line] (separation) -- node[anchor = north] {\ce{NH3_{(g)}}} 
	(output);
\end{tikzpicture}

